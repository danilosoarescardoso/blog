<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="Danilo Soares Frois Cardoso">


    <meta name="subtitle" content="Desenvolvimento Web e amenidades">


    <meta name="description" content="Aqui falo sobre tecnologia e muitas amenidades.">





<title>Boas práticas no design de APIs: use substantivos em vez de verbos | Blog do Frois</title>



    <link rel="icon" href="/favicon.ico">



<style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;700&family=Roboto+Mono&display=swap');
</style>



    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    




    <!-- scripts list from _config.yml -->
    
    <script src="/js/menu.js"></script>
    










  <meta name="generator" content="Hexo 5.4.2"></head>
  <body>
    <div class="mask-border">
    </div>

    <div class="wrapper">

      <div class="header">
  <div class="flex-container">
    <div class="header-inner">
      <div class="site-brand-container">
        <a href="/">
          
            Blog do Frois.
          
        </a>
      </div>
      <div id="menu-btn" class="menu-btn" onclick="toggleMenu()">
        Menu
      </div>
      <nav class="site-nav">
        <ul class="menu-list">
          
            
              <li class="menu-item">
                <a href="/">Home</a>
              </li> 
                   
          
            
              <li class="menu-item">
                <a href="/archives/">Posts</a>
              </li> 
                   
          
          
        </ul>
      </nav>
    </div>
  </div>
</div>
<script src="/js/menu.js"></script>


      <div class="main">
        <div class="flex-container">
          <article id="post">

  
    <div class="post-head">
    <div class="post-info">
        <div class="tag-list">
            
                
                    <span class="post-tag">
                        <a href="/tags/api-first/">
                            api first
                        </a>
                    </span>    
                
                    <span class="post-tag">
                        <a href="/tags/apis/">
                            apis
                        </a>
                    </span>    
                
                    <span class="post-tag">
                        <a href="/tags/open-apis/">
                            open apis
                        </a>
                    </span>    
                           
            
        </div>
        <div class="post-title">
            
            
                Boas práticas no design de APIs: use substantivos em vez de verbos
            
            
        </div>
        <span class="post-date">
            fev 8, 2022
        </span>
    </div>
    <div class="post-img">
        
            <div class="h-line-primary"></div>
              
    </div>
</div>
    <div class="post-content">
    <p>Um dos grandes trunfos do padrão REST é permitir grande flexibilidade na hora de implementar uma API. Logo, é necessário definir padrões e boas práticas para que diferentes desenvolvedores possam trabalhar em uma mesma API e entender o que está acontecendo. Não só o time técnico, mas até para pessoas leigas fica claro o que está feito quando adotamos essas práticas. Pensando nisso, seguem algumas ideias para que APIs sejam mais claras:</p>
<h3 id="URLs-devem-ser-simples"><a href="#URLs-devem-ser-simples" class="headerlink" title="URLs devem ser simples"></a>URLs devem ser simples</h3><p>A primeira dica é também a mais importante: <strong>deixe URLs base o mais simples e intuitivas possível</strong>. Uma URL clara faz o consumo ser facilitado e lógico. Para isso podermos usar um conceito de design chamado <em>Affordance</em>. Ele define que um elemento deve dar dicas ou explicar como ser usado visualmente, sem a necessidade de um manual. Um exemplo clássico são maçanetas e asas de xícara. Subtende-se apenas ao olhar que devemos pegar esses objetos, pois entendemos a mensagem de que aquilo foi feito para ser manuseado.</p>
<p>Assim como nesses casos, APIs devem ter <em>affordance</em> aplicado. Pra isso Brian Mulloy cita que devemos ter, no máximo, duas URLs base para cada recurso. Para dar um exemplo, imagine uma API onde os recursos são clubes de futebol. Ela pode ter o seguinte desenho:</p>
<ul>
<li>&#x2F;clubes</li>
<li>&#x2F;clubes&#x2F;palmeiras</li>
</ul>
<p>Dessa forma nossa API lista uma coleção (primeira opção) e um clube específico (segunda opção) sendo legível para desenvolvedores e pessoas não-técnicas. Assim conseguimos também deixar os endpoints mais claros, sem a necessidade de verbos, que já citamos serem ruins. </p>
<h3 id="Nada-de-verbos-em-URLs-base"><a href="#Nada-de-verbos-em-URLs-base" class="headerlink" title="Nada de verbos em URLs base"></a>Nada de verbos em URLs base</h3><p>Desenvolvedores costumam escrever endpoints usando termos que facilitem seu entendimento, como <em>listAllClubs</em>. Outro motivo é manter certa coesão com os métodos que realizam o que aquele endpoint cita.</p>
<p>O problema dessa abordagem é que ela foca apenas no objeto, que em nosso exemplo é um clube de futebol. Como faríamos para relacionar os jogadores, comissão técnica, patrocinadores, partidas e afins? Teríamos que ter, provavelmente, uma lista de endpoints assim:</p>
<ul>
<li>&#x2F;listAllPlayers</li>
<li>&#x2F;listNextMatches</li>
<li>&#x2F;getAllPartners</li>
</ul>
<p>Pode parecer fazer sentido, mas se o projeto crescer e comportar mais esportes e domínios, logo será impossível entender os endpoints, a não ser que seja gasto um tempo lendo a documentação e se aprofundando no que a API entrega.</p>
<h3 id="Use-verbos-HTTP-de-forma-intuitiva"><a href="#Use-verbos-HTTP-de-forma-intuitiva" class="headerlink" title="Use verbos HTTP de forma intuitiva"></a>Use verbos HTTP de forma intuitiva</h3><p>Quando cortamos os verbos comuns, dependemos de um bom uso dos verbos HTTP. Pensando em um sistema CRUD, vamos ter endpoints para criar, editar, deletar e atualizar registros. Utilizando o mesmo exemplo citado mais acima, temos duas URLs base, uma para trabalhar com clubes em geral e outra para clubes específicos.</p>
<p>Juntando os verbos HTTP que trazem a funcionalidade de CRUD com as duas URLs base, temos 8 endpoints que permitem a criação de uma API rica em funcionalidades. Com isso teríamos os seguintes endpoints:</p>
<table>
<thead>
<tr>
<th>Recurso</th>
<th>POST</th>
<th>GET</th>
<th>PUT</th>
<th>DELETE</th>
</tr>
</thead>
<tbody><tr>
<td>&#x2F;clubes&#x2F;</td>
<td>criar um novo clube</td>
<td>listar clubes</td>
<td>atualizar lista de clubes</td>
<td>deletar todos os clubes</td>
</tr>
<tr>
<td>&#x2F;clubes&#x2F;palmeiras</td>
<td>Erro</td>
<td>mostrar dados do clube Palmeiras</td>
<td>caso o clube Palmeiras exista, o atualiza</td>
<td>apagar clube Palmeiras</td>
</tr>
</tbody></table>

</div> 

<script>
    window.onload = detectors();
</script>
    <div class="post-footer">
    <div class="h-line-primary"></div>
    <nav class="post-nav">
        <div class="prev-item">
           
                <div class="icon arrow-left"></div>
                <div class="post-link">
                    <a href="/musicas-mais-ouvidas-jan-fone-novo/">Prev</a>
                </div>
            
        </div>
        <div class="next-item">
            
                <div class="icon arrow-right"></div>
                <div class="post-link">
                  <a href="/documentando-decisoes-arquitetura/">Next</a>  
                </div>  
            
        </div>
    </nav>
</div>

    
      <div class="post-comment">

     

     
    
    

</div>
     
  
</article>
        </div>
      </div>
      
      <div class="footer">
    <div class="flex-container">
        <div class="footer-text">
            
            
            
                Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> & <a target="_blank" rel="noopener" href="https://github.com/zoeingwingkei/frame/">Frame</a>
                
        </div>
    </div>
</div>

    </div>

    
    

  </body>
</html>
