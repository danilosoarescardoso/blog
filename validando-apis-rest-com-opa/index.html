<!DOCTYPE html>
<html lang=pt>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="O Open Policy Agent, que citei no blog há algumas semanas atrás, é uma ferramenta que permite a criação de políticas de forma centralizada, afim de gerenciar e validar diferentes aspectos de segurança">
<meta property="og:type" content="article">
<meta property="og:title" content="Validando APIs REST com Open Policy Agent">
<meta property="og:url" content="https://danilocardoso.dev/validando-apis-rest-com-opa/index.html">
<meta property="og:site_name" content="Blog do Frois">
<meta property="og:description" content="O Open Policy Agent, que citei no blog há algumas semanas atrás, é uma ferramenta que permite a criação de políticas de forma centralizada, afim de gerenciar e validar diferentes aspectos de segurança">
<meta property="og:locale" content="pt_BR">
<meta property="og:image" content="https://danilocardoso.dev/blog/validando-apis-rest-com-opa/path3.jpeg">
<meta property="article:published_time" content="2022-12-20T20:21:27.000Z">
<meta property="article:modified_time" content="2025-01-06T14:11:02.579Z">
<meta property="article:author" content="Danilo Soares Frois Cardoso">
<meta property="article:tag" content="tecnologia">
<meta property="article:tag" content="2022">
<meta property="article:tag" content="Open APIs">
<meta property="article:tag" content="API REST">
<meta property="article:tag" content="backend">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://danilocardoso.dev/blog/validando-apis-rest-com-opa/path3.jpeg">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>Validando APIs REST com Open Policy Agent</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 5.4.2"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Início</a></li><!--
     --><!--
       --><li><a href="/about/">Sobre</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://linkedin.com/in/danilosoarescardoso">Fale Comigo</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Post Anterior" href="/apis-pessoas-negocio-termos-tecnicos/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Post Seguinte" href="/centralizando-governanca-com-opa/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Acima" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Compartihar Post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Post Anterior</span>
      <span id="i-next" class="info" style="display:none;">Post Seguinte</span>
      <span id="i-top" class="info" style="display:none;">Acima</span>
      <span id="i-share" class="info" style="display:none;">Compartihar Post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://danilocardoso.dev/validando-apis-rest-com-opa/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://danilocardoso.dev/validando-apis-rest-com-opa/&text=Validando APIs REST com Open Policy Agent"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://danilocardoso.dev/validando-apis-rest-com-opa/&title=Validando APIs REST com Open Policy Agent"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://danilocardoso.dev/validando-apis-rest-com-opa/&is_video=false&description=Validando APIs REST com Open Policy Agent"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Validando APIs REST com Open Policy Agent&body=Check out this article: https://danilocardoso.dev/validando-apis-rest-com-opa/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://danilocardoso.dev/validando-apis-rest-com-opa/&title=Validando APIs REST com Open Policy Agent"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://danilocardoso.dev/validando-apis-rest-com-opa/&title=Validando APIs REST com Open Policy Agent"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://danilocardoso.dev/validando-apis-rest-com-opa/&title=Validando APIs REST com Open Policy Agent"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://danilocardoso.dev/validando-apis-rest-com-opa/&title=Validando APIs REST com Open Policy Agent"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://danilocardoso.dev/validando-apis-rest-com-opa/&name=Validando APIs REST com Open Policy Agent&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://danilocardoso.dev/validando-apis-rest-com-opa/&t=Validando APIs REST com Open Policy Agent"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Opcoes-ao-validar-APIs"><span class="toc-number">1.</span> <span class="toc-text">Opções ao validar APIs</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Validando-com-OPA"><span class="toc-number">1.1.</span> <span class="toc-text">Validando com OPA</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Validando-com-conftest"><span class="toc-number">1.2.</span> <span class="toc-text">Validando com conftest</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Trade-offs-envolvidos"><span class="toc-number">2.</span> <span class="toc-text">Trade-offs envolvidos</span></a></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        Validando APIs REST com Open Policy Agent
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">Danilo Soares Frois Cardoso</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2022-12-20T20:21:27.000Z" class="dt-published" itemprop="datePublished">2022-12-20</time>
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/2022/" rel="tag">2022</a>, <a class="p-category" href="/tags/API-REST/" rel="tag">API REST</a>, <a class="p-category" href="/tags/Open-APIs/" rel="tag">Open APIs</a>, <a class="p-category" href="/tags/backend/" rel="tag">backend</a>, <a class="p-category" href="/tags/tecnologia/" rel="tag">tecnologia</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <p>O Open Policy Agent, que <a href="https://danilocardoso.dev/blog/centralizando-governanca-com-opa/">citei no blog há algumas semanas atrás</a>, é uma ferramenta que permite a criação de políticas de forma centralizada, afim de gerenciar e validar diferentes aspectos de segurança das suas aplicações, seja de infra como arquitetura. Uma das validações que o OPA permite realizar é a de <strong>contratos de API</strong>.</p>
<p>Validar contratos é um aspecto muito importante em uma estratégia de APIs porque garante que os critérios definidos pelo time de arquitetura e negócio estão sendo seguidos pelas pessoas desenvolvedoras. Uma API fora do padrão traz inúmeros problemas para instituições, como por exemplo:</p>
<ul>
<li><strong>Alta carga cognitiva para stakeholders.</strong> Padrões existem para tornar a comunicação mais efetiva, definindo <strong>símbolos comuns</strong> que pessoas de diferentes contextos possam entender. Uma API fora dos padrões exige reuniões com quem desenhou o contrato e explicações técnicas para que os stakeholders possam entender porque foi feito daquela forma. Definir regras para contratos e valida-las a cada deploy é uma forma de <strong>diminuir a carga cognitiva</strong> para as pessoas envolvidas.</li>
<li><strong>Débito técnico constante.</strong> Uma API que já começa sem padrão tende a se tornar uma dor de cabeça para as equipes, já que inúmeros problemas podem ocorrer. Performance, disponibilidade e confiabilidade são apenas alguns exemplos de <strong><a target="_blank" rel="noopener" href="http://www.softwarearchitecturenotes.com/architecturerequirements.html"><em>ilities</em></a></strong> que são impactados com APIs fora de um padrão técnico pré-estabelecido.  </li>
<li><strong>Problemas para integrar.</strong> Os padrões de desenho para API existem para que qualquer empresa consiga integrar seus produtos através de um determinado padrão, entre tantos outros casos de uso. Quando os padrões de mercado não são seguidos, toda e qualquer integração vai exigir documentações adicionais, reuniões e refinamento de requisitos, já que aquela API pode ter sido desenhada e implementada de qualquer jeito possível. E acredite, existem muitas formas de escrever uma API quando não existe um padrão de mercado balizando as entregas.</li>
</ul>
<img src="/blog/validando-apis-rest-com-opa/path3.jpeg" class="">

<h2 id="Opcoes-ao-validar-APIs"><a href="#Opcoes-ao-validar-APIs" class="headerlink" title="Opções ao validar APIs"></a>Opções ao validar APIs</h2><p>Existem várias formas de validar o contrato de uma API. Uma das mais famosas é com o <a target="_blank" rel="noopener" href="https://stoplight.io/open-source/spectral">Spectral</a>, ferramenta <em>open source</em> que permite definir uma série de políticas para suas APIs. O que vou mostrar nesse texto é como usar o OPA para validar os contratos de duas formas diferentes, mas é bom deixar claro que existem N outras alternativas no mercado.</p>
<h3 id="Validando-com-OPA"><a href="#Validando-com-OPA" class="headerlink" title="Validando com OPA"></a>Validando com OPA</h3><p>Para usar OPA diretamente, é necessário instalar a ferramenta, o que pode ser feito com esse comando:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -L -o opa https://github.com/open-policy-agent/opa/releases/download/v0.11.0/opa_linux_amd64</span><br></pre></td></tr></table></figure>

<p>Após isso, é necessário tornar o arquivo executável:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 755 ./opa</span><br></pre></td></tr></table></figure>

<p>A partir desse momento basta executar o arquivo passando alguns parâmetros, a saber:</p>
<ul>
<li><em><strong>bundle</strong></em>: são <em>sets</em> de políticas que podem estar em diferentes diretórios ou URLs e podem ser usados pelo OPA <em>on-the-fly</em>, sem que seja necessário reiniciar seu serviço</li>
<li><em><strong>format</strong></em>: definir o valor desse campo como <em>pretty</em> permite que a validação retorne em um formato de melhor leitura humana, para fins de debug. Sem esse parâmetro o retorno trará algumas informações a mais. Ambos retornos são em JSON</li>
<li><em><strong>input:</strong></em> aqui é onde o contrato que será validado deve ser atribuído. Nesse caso estamos usando um arquivo em JSON no <a target="_blank" rel="noopener" href="https://www.openapis.org/">padrão OpenAPI</a>.</li>
</ul>
<p>Dessa forma, o comando executado fica assim:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">opa <span class="built_in">eval</span> \</span><br><span class="line">  --bundle ./spego/src \</span><br><span class="line">  --format pretty \</span><br><span class="line">  --input ./spego/example/inputs/openapi.json \</span><br><span class="line">  <span class="string">&quot;data.openapi.main.results&quot;</span></span><br></pre></td></tr></table></figure>

<p>Nesse exemplo estamos usando um <em>bundle</em> de políticas que está disponível <a target="_blank" rel="noopener" href="https://github.com/kevinswiber/spego">nesse diretório</a>, chamado Spego. Com esse <em>bundle</em> é possível utilizar algumas validações feitas pelo <em>Spectral</em>, para aumentar a rigidez dos padrões adotados para APIs, indo além do padrão OpenAPI. </p>
<p>Para executar esse exemplo peguei o arquivo Swagger do PetStore para validar, tendo o seguinte resultado:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;duplicated-entry-in-enum&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;success&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;info-contact&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;success&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;info-description&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;success&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;no-eval-in-markdown&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;success&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;no-script-tags-in-markdown&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;success&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;openapi-tags-uniqueness&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;success&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;operation-description&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;success&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;operation-operationId&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;success&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;operation-operationId-unique&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;success&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;operation-operationId-valid-in-url&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;success&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;operation-parameters&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;success&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;operation-success-response&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Operation must have at least one \&quot;2xx\&quot; or \&quot;3xx\&quot; response.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/pet/&#123;petId&#125;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;delete&quot;</span>,</span><br><span class="line">      <span class="string">&quot;responses&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;warn&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;operation-success-response&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Operation must have at least one \&quot;2xx\&quot; or \&quot;3xx\&quot; response.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/pet/&#123;petId&#125;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;post&quot;</span>,</span><br><span class="line">      <span class="string">&quot;responses&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;warn&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;operation-success-response&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Operation must have at least one \&quot;2xx\&quot; or \&quot;3xx\&quot; response.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/store/order/&#123;orderId&#125;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;delete&quot;</span>,</span><br><span class="line">      <span class="string">&quot;responses&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;warn&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;operation-success-response&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Operation must have at least one \&quot;2xx\&quot; or \&quot;3xx\&quot; response.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/user&quot;</span>,</span><br><span class="line">      <span class="string">&quot;post&quot;</span>,</span><br><span class="line">      <span class="string">&quot;responses&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;warn&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;operation-success-response&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Operation must have at least one \&quot;2xx\&quot; or \&quot;3xx\&quot; response.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/user/logout&quot;</span>,</span><br><span class="line">      <span class="string">&quot;get&quot;</span>,</span><br><span class="line">      <span class="string">&quot;responses&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;warn&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;operation-success-response&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Operation must have at least one \&quot;2xx\&quot; or \&quot;3xx\&quot; response.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/user/&#123;username&#125;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;delete&quot;</span>,</span><br><span class="line">      <span class="string">&quot;responses&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;warn&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;operation-success-response&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Operation must have at least one \&quot;2xx\&quot; or \&quot;3xx\&quot; response.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/user/&#123;username&#125;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;put&quot;</span>,</span><br><span class="line">      <span class="string">&quot;responses&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;warn&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;operation-tag-defined&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;success&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;operation-tags&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;success&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;path-declarations-must-exist&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;success&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;path-keys-no-trailing-slash&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;success&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;path-not-include-query&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;success&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;path-params&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Operation must define parameter \&quot;&#123;orderId&#125;\&quot; as expected by path \&quot;/store/order/&#123;orderId&#125;\&quot;.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/store/order/&#123;orderId&#125;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;delete&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;path-params&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Operation must define parameter \&quot;&#123;orderId&#125;\&quot; as expected by path \&quot;/store/order/&#123;orderId&#125;\&quot;.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/store/order/&#123;orderId&#125;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;get&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;path-params&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Operation must define parameter \&quot;&#123;petId&#125;\&quot; as expected by path \&quot;/pet/&#123;petId&#125;\&quot;.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/pet/&#123;petId&#125;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;delete&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;path-params&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Operation must define parameter \&quot;&#123;petId&#125;\&quot; as expected by path \&quot;/pet/&#123;petId&#125;\&quot;.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/pet/&#123;petId&#125;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;get&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;path-params&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Operation must define parameter \&quot;&#123;petId&#125;\&quot; as expected by path \&quot;/pet/&#123;petId&#125;\&quot;.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/pet/&#123;petId&#125;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;post&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;path-params&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Operation must define parameter \&quot;&#123;petId&#125;\&quot; as expected by path \&quot;/pet/&#123;petId&#125;/uploadImage\&quot;.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/pet/&#123;petId&#125;/uploadImage&quot;</span>,</span><br><span class="line">      <span class="string">&quot;post&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;path-params&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Operation must define parameter \&quot;&#123;username&#125;\&quot; as expected by path \&quot;/user/&#123;username&#125;\&quot;.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/user/&#123;username&#125;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;delete&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;path-params&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Operation must define parameter \&quot;&#123;username&#125;\&quot; as expected by path \&quot;/user/&#123;username&#125;\&quot;.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/user/&#123;username&#125;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;get&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;path-params&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Operation must define parameter \&quot;&#123;username&#125;\&quot; as expected by path \&quot;/user/&#123;username&#125;\&quot;.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/user/&#123;username&#125;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;put&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;path-params&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Parameter \&quot;orderId\&quot; must be used in path \&quot;/store/order/&#123;orderId&#125;\&quot;.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/store/order/&#123;orderId&#125;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;delete&quot;</span>,</span><br><span class="line">      <span class="string">&quot;parameters&quot;</span>,</span><br><span class="line">      <span class="string">&quot;0&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;path-params&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Parameter \&quot;orderId\&quot; must be used in path \&quot;/store/order/&#123;orderId&#125;\&quot;.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/store/order/&#123;orderId&#125;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;get&quot;</span>,</span><br><span class="line">      <span class="string">&quot;parameters&quot;</span>,</span><br><span class="line">      <span class="string">&quot;0&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;path-params&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Parameter \&quot;petId\&quot; must be used in path \&quot;/pet/&#123;petId&#125;\&quot;.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/pet/&#123;petId&#125;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;delete&quot;</span>,</span><br><span class="line">      <span class="string">&quot;parameters&quot;</span>,</span><br><span class="line">      <span class="string">&quot;1&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;path-params&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Parameter \&quot;petId\&quot; must be used in path \&quot;/pet/&#123;petId&#125;\&quot;.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/pet/&#123;petId&#125;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;get&quot;</span>,</span><br><span class="line">      <span class="string">&quot;parameters&quot;</span>,</span><br><span class="line">      <span class="string">&quot;0&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;path-params&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Parameter \&quot;petId\&quot; must be used in path \&quot;/pet/&#123;petId&#125;\&quot;.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/pet/&#123;petId&#125;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;post&quot;</span>,</span><br><span class="line">      <span class="string">&quot;parameters&quot;</span>,</span><br><span class="line">      <span class="string">&quot;0&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;path-params&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Parameter \&quot;petId\&quot; must be used in path \&quot;/pet/&#123;petId&#125;/uploadImage\&quot;.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/pet/&#123;petId&#125;/uploadImage&quot;</span>,</span><br><span class="line">      <span class="string">&quot;post&quot;</span>,</span><br><span class="line">      <span class="string">&quot;parameters&quot;</span>,</span><br><span class="line">      <span class="string">&quot;0&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;path-params&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Parameter \&quot;username\&quot; must be used in path \&quot;/user/&#123;username&#125;\&quot;.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/user/&#123;username&#125;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;delete&quot;</span>,</span><br><span class="line">      <span class="string">&quot;parameters&quot;</span>,</span><br><span class="line">      <span class="string">&quot;0&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;path-params&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Parameter \&quot;username\&quot; must be used in path \&quot;/user/&#123;username&#125;\&quot;.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/user/&#123;username&#125;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;get&quot;</span>,</span><br><span class="line">      <span class="string">&quot;parameters&quot;</span>,</span><br><span class="line">      <span class="string">&quot;0&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;path-params&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Parameter \&quot;username\&quot; must be used in path \&quot;/user/&#123;username&#125;\&quot;.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;paths&quot;</span>,</span><br><span class="line">      <span class="string">&quot;/user/&#123;username&#125;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;put&quot;</span>,</span><br><span class="line">      <span class="string">&quot;parameters&quot;</span>,</span><br><span class="line">      <span class="string">&quot;0&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;severity&quot;</span>: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;failure&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>Como podemos ver o resultado um compilado de todos os resultados em JSON, mostrando tantos as políticas que foram atendidas e quais falharam. </p>
<h3 id="Validando-com-conftest"><a href="#Validando-com-conftest" class="headerlink" title="Validando com conftest"></a>Validando com conftest</h3><p>Uma outra forma de validar contratos de APIs REST com OPA é através do <a target="_blank" rel="noopener" href="https://conftest.dev/">conftest</a>, que é uma ferramenta para escrita de testes de arquivos de configuração. Com ela podemos criar scripts que validam arquivos de configuração, tendo um resultado em formato textual, exibido na linha de comando.</p>
<p>Para instalar a ferramenta basta executar os comandos abaixo:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">LATEST_VERSION=$(wget -O - <span class="string">&quot;https://api.github.com/repos/open-policy-agent/conftest/releases/latest&quot;</span> | grep <span class="string">&#x27;&quot;tag_name&quot;:&#x27;</span> | sed -E <span class="string">&#x27;s/.*&quot;([^&quot;]+)&quot;.*/\1/&#x27;</span> | cut -c 2-)</span><br><span class="line">wget <span class="string">&quot;https://github.com/open-policy-agent/conftest/releases/download/v<span class="variable">$&#123;LATEST_VERSION&#125;</span>/conftest_<span class="variable">$&#123;LATEST_VERSION&#125;</span>_Linux_x86_64.tar.gz&quot;</span></span><br><span class="line">tar xzf conftest_<span class="variable">$&#123;LATEST_VERSION&#125;</span>_Linux_x86_64.tar.gz</span><br><span class="line">sudo mv conftest /usr/<span class="built_in">local</span>/bin</span><br></pre></td></tr></table></figure>

<p>Vamos usar o mesmo arquivo Swagger para validar as regras. O comando para que isso seja feito é esse:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conftest <span class="built_in">test</span> -n <span class="string">&quot;openapi.main&quot;</span> ./openapi.json</span><br></pre></td></tr></table></figure>
<p>Como podemos ver na sintaxe, o primeiro parâmetro passado são as regras que devem ser usadas - usamos o mesmo bundle, Spego - e como segundo parâmetro passamos o arquivo Swagger. O resultado obtido rodando a feramenta foi:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">WARN - ./openapi.json - openapi.main - operation-success-response - Operation must have at least one <span class="string">&quot;2xx&quot;</span> or <span class="string">&quot;3xx&quot;</span> response. [paths/~1pet~1&#123;petId&#125;/delete/responses]</span><br><span class="line">WARN - ./openapi.json - openapi.main - operation-success-response - Operation must have at least one <span class="string">&quot;2xx&quot;</span> or <span class="string">&quot;3xx&quot;</span> response. [paths/~1pet~1&#123;petId&#125;/post/responses]</span><br><span class="line">WARN - ./openapi.json - openapi.main - operation-success-response - Operation must have at least one <span class="string">&quot;2xx&quot;</span> or <span class="string">&quot;3xx&quot;</span> response. [paths/~1store~1order~1&#123;orderId&#125;/delete/responses]</span><br><span class="line">WARN - ./openapi.json - openapi.main - operation-success-response - Operation must have at least one <span class="string">&quot;2xx&quot;</span> or <span class="string">&quot;3xx&quot;</span> response. [paths/~1user/post/responses]</span><br><span class="line">WARN - ./openapi.json - openapi.main - operation-success-response - Operation must have at least one <span class="string">&quot;2xx&quot;</span> or <span class="string">&quot;3xx&quot;</span> response. [paths/~1user~1logout/get/responses]</span><br><span class="line">WARN - ./openapi.json - openapi.main - operation-success-response - Operation must have at least one <span class="string">&quot;2xx&quot;</span> or <span class="string">&quot;3xx&quot;</span> response. [paths/~1user~1&#123;username&#125;/delete/responses]</span><br><span class="line">WARN - ./openapi.json - openapi.main - operation-success-response - Operation must have at least one <span class="string">&quot;2xx&quot;</span> or <span class="string">&quot;3xx&quot;</span> response. [paths/~1user~1&#123;username&#125;/put/responses]</span><br><span class="line">FAIL - ./openapi.json - openapi.main - path-params - Operation must define parameter <span class="string">&quot;&#123;petId&#125;&quot;</span> as expected by path <span class="string">&quot;/pet/&#123;petId&#125;&quot;</span>. [paths/~1pet~1&#123;petId&#125;/delete]</span><br><span class="line">FAIL - ./openapi.json - openapi.main - path-params - Parameter <span class="string">&quot;petId&quot;</span> must be used <span class="keyword">in</span> path <span class="string">&quot;/pet/&#123;petId&#125;&quot;</span>. [paths/~1pet~1&#123;petId&#125;/delete/parameters/1]</span><br><span class="line">FAIL - ./openapi.json - openapi.main - path-params - Operation must define parameter <span class="string">&quot;&#123;petId&#125;&quot;</span> as expected by path <span class="string">&quot;/pet/&#123;petId&#125;&quot;</span>. [paths/~1pet~1&#123;petId&#125;/get]</span><br><span class="line">FAIL - ./openapi.json - openapi.main - path-params - Parameter <span class="string">&quot;petId&quot;</span> must be used <span class="keyword">in</span> path <span class="string">&quot;/pet/&#123;petId&#125;&quot;</span>. [paths/~1pet~1&#123;petId&#125;/get/parameters/0]</span><br><span class="line">FAIL - ./openapi.json - openapi.main - path-params - Operation must define parameter <span class="string">&quot;&#123;petId&#125;&quot;</span> as expected by path <span class="string">&quot;/pet/&#123;petId&#125;&quot;</span>. [paths/~1pet~1&#123;petId&#125;/post]</span><br><span class="line">FAIL - ./openapi.json - openapi.main - path-params - Parameter <span class="string">&quot;petId&quot;</span> must be used <span class="keyword">in</span> path <span class="string">&quot;/pet/&#123;petId&#125;&quot;</span>. [paths/~1pet~1&#123;petId&#125;/post/parameters/0]</span><br><span class="line">FAIL - ./openapi.json - openapi.main - path-params - Operation must define parameter <span class="string">&quot;&#123;petId&#125;&quot;</span> as expected by path <span class="string">&quot;/pet/&#123;petId&#125;/uploadImage&quot;</span>. [paths/~1pet~1&#123;petId&#125;~1uploadImage/post]</span><br><span class="line">FAIL - ./openapi.json - openapi.main - path-params - Parameter <span class="string">&quot;petId&quot;</span> must be used <span class="keyword">in</span> path <span class="string">&quot;/pet/&#123;petId&#125;/uploadImage&quot;</span>. [paths/~1pet~1&#123;petId&#125;~1uploadImage/post/parameters/0]</span><br><span class="line">FAIL - ./openapi.json - openapi.main - path-params - Operation must define parameter <span class="string">&quot;&#123;orderId&#125;&quot;</span> as expected by path <span class="string">&quot;/store/order/&#123;orderId&#125;&quot;</span>. [paths/~1store~1order~1&#123;orderId&#125;/delete]</span><br><span class="line">FAIL - ./openapi.json - openapi.main - path-params - Parameter <span class="string">&quot;orderId&quot;</span> must be used <span class="keyword">in</span> path <span class="string">&quot;/store/order/&#123;orderId&#125;&quot;</span>. [paths/~1store~1order~1&#123;orderId&#125;/delete/parameters/0]</span><br><span class="line">FAIL - ./openapi.json - openapi.main - path-params - Operation must define parameter <span class="string">&quot;&#123;orderId&#125;&quot;</span> as expected by path <span class="string">&quot;/store/order/&#123;orderId&#125;&quot;</span>. [paths/~1store~1order~1&#123;orderId&#125;/get]</span><br><span class="line">FAIL - ./openapi.json - openapi.main - path-params - Parameter <span class="string">&quot;orderId&quot;</span> must be used <span class="keyword">in</span> path <span class="string">&quot;/store/order/&#123;orderId&#125;&quot;</span>. [paths/~1store~1order~1&#123;orderId&#125;/get/parameters/0]</span><br><span class="line">FAIL - ./openapi.json - openapi.main - path-params - Operation must define parameter <span class="string">&quot;&#123;username&#125;&quot;</span> as expected by path <span class="string">&quot;/user/&#123;username&#125;&quot;</span>. [paths/~1user~1&#123;username&#125;/delete]</span><br><span class="line">FAIL - ./openapi.json - openapi.main - path-params - Parameter <span class="string">&quot;username&quot;</span> must be used <span class="keyword">in</span> path <span class="string">&quot;/user/&#123;username&#125;&quot;</span>. [paths/~1user~1&#123;username&#125;/delete/parameters/0]</span><br><span class="line">FAIL - ./openapi.json - openapi.main - path-params - Operation must define parameter <span class="string">&quot;&#123;username&#125;&quot;</span> as expected by path <span class="string">&quot;/user/&#123;username&#125;&quot;</span>. [paths/~1user~1&#123;username&#125;/get]</span><br><span class="line">FAIL - ./openapi.json - openapi.main - path-params - Parameter <span class="string">&quot;username&quot;</span> must be used <span class="keyword">in</span> path <span class="string">&quot;/user/&#123;username&#125;&quot;</span>. [paths/~1user~1&#123;username&#125;/get/parameters/0]</span><br><span class="line">FAIL - ./openapi.json - openapi.main - path-params - Operation must define parameter <span class="string">&quot;&#123;username&#125;&quot;</span> as expected by path <span class="string">&quot;/user/&#123;username&#125;&quot;</span>. [paths/~1user~1&#123;username&#125;/put]</span><br><span class="line">FAIL - ./openapi.json - openapi.main - path-params - Parameter <span class="string">&quot;username&quot;</span> must be used <span class="keyword">in</span> path <span class="string">&quot;/user/&#123;username&#125;&quot;</span>. [paths/~1user~1&#123;username&#125;/put/parameters/0]</span><br><span class="line"></span><br><span class="line">25 tests, 0 passed, 7 warnings, 18 failures, 0 exceptions</span><br></pre></td></tr></table></figure>

<h2 id="Trade-offs-envolvidos"><a href="#Trade-offs-envolvidos" class="headerlink" title="Trade-offs envolvidos"></a>Trade-offs envolvidos</h2><p>Como podemos ver, quando usamos o conftest temos um resultado diferente do OPA. Como o conftest é uma ferramenta de teste, a ideia é que ela possa ser usada em uma <em>pipeline</em>, por exemplo, já que será possível validar se há ou não alguma falha através de uma interface de linha de comando. No caso do Open Policy Agent <em>puro</em> temos um resultado programático, que pode ser exibido em dashboards ou lido de diferentes formas.</p>
<p>Um ponto que vale a pena ressaltar é que o Open Policy Agent é uma plataforma para gestão de políticas. Com ela é possível fazer muito mais do que simplesmente validar arquivos Swagger. Você deve ir por esse caminho se estiver pensando em uma plataforma que centralize a gestão de políticas de diferentes ferramentas de infra-estrutura, por exemplo.</p>
<p>Já no caso do conftest estamos falando de uma ferramenta que, construída em cima do OPA, permite a validação de arquivos de configuração. Nesse caso, se você quer algo focado em validações de políticas específicas, como arquivos Terraform ou Swagger, a opção a ser escolhida deve ser o conftest. Você não terá uma plataforma de gestão de políticas centralizadas, mas validará os arquivos que necessitar.</p>
<p>Vale a pena citar também que ambas ferramentas usam a linguagem de alto nível Rego para escrita das políticas. Será necessário estudar - ou conhecer - essa linguagem para tirar máximo proveito da ferramenta escolhida. </p>
<hr>
<p>Espero que tenha gostado desse artigo e caso tenha alguma dúvida, entre em contato comigo pelos links que aparecem aqui no blog. Abraços!</p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Início</a></li>
        
          <li><a href="/about/">Sobre</a></li>
        
          <li><a target="_blank" rel="noopener" href="https://linkedin.com/in/danilosoarescardoso">Fale Comigo</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Opcoes-ao-validar-APIs"><span class="toc-number">1.</span> <span class="toc-text">Opções ao validar APIs</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Validando-com-OPA"><span class="toc-number">1.1.</span> <span class="toc-text">Validando com OPA</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Validando-com-conftest"><span class="toc-number">1.2.</span> <span class="toc-text">Validando com conftest</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Trade-offs-envolvidos"><span class="toc-number">2.</span> <span class="toc-text">Trade-offs envolvidos</span></a></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://danilocardoso.dev/validando-apis-rest-com-opa/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://danilocardoso.dev/validando-apis-rest-com-opa/&text=Validando APIs REST com Open Policy Agent"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://danilocardoso.dev/validando-apis-rest-com-opa/&title=Validando APIs REST com Open Policy Agent"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://danilocardoso.dev/validando-apis-rest-com-opa/&is_video=false&description=Validando APIs REST com Open Policy Agent"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Validando APIs REST com Open Policy Agent&body=Check out this article: https://danilocardoso.dev/validando-apis-rest-com-opa/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://danilocardoso.dev/validando-apis-rest-com-opa/&title=Validando APIs REST com Open Policy Agent"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://danilocardoso.dev/validando-apis-rest-com-opa/&title=Validando APIs REST com Open Policy Agent"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://danilocardoso.dev/validando-apis-rest-com-opa/&title=Validando APIs REST com Open Policy Agent"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://danilocardoso.dev/validando-apis-rest-com-opa/&title=Validando APIs REST com Open Policy Agent"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://danilocardoso.dev/validando-apis-rest-com-opa/&name=Validando APIs REST com Open Policy Agent&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://danilocardoso.dev/validando-apis-rest-com-opa/&t=Validando APIs REST com Open Policy Agent"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Compartilhar</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2025
    Danilo Soares Frois Cardoso
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Início</a></li><!--
     --><!--
       --><li><a href="/about/">Sobre</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://linkedin.com/in/danilosoarescardoso">Fale Comigo</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
