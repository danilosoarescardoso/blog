<!DOCTYPE html>
<html lang=pt>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="No contexto de sistemas distribuídos, precisamos de regras para uma infinidade de casos:  Controlar acessos a uma API Permitir a criação de recursos de infra em cloud Executar deploys em ambientes pro">
<meta property="og:type" content="article">
<meta property="og:title" content="Centralizando governança de políticas com Open Policy Agent">
<meta property="og:url" content="https://danilocardoso.dev/centralizando-governanca-com-opa/index.html">
<meta property="og:site_name" content="Blog do Frois">
<meta property="og:description" content="No contexto de sistemas distribuídos, precisamos de regras para uma infinidade de casos:  Controlar acessos a uma API Permitir a criação de recursos de infra em cloud Executar deploys em ambientes pro">
<meta property="og:locale" content="pt_BR">
<meta property="og:image" content="https://danilocardoso.dev/blog/centralizando-governanca-com-opa/stop.jpeg">
<meta property="og:image" content="https://danilocardoso.dev/blog/centralizando-governanca-com-opa/opa-arch.svg">
<meta property="article:published_time" content="2022-11-29T00:27:54.000Z">
<meta property="article:modified_time" content="2025-01-06T14:11:02.569Z">
<meta property="article:author" content="Danilo Soares Frois Cardoso">
<meta property="article:tag" content="tecnologia">
<meta property="article:tag" content="2022">
<meta property="article:tag" content="segurança">
<meta property="article:tag" content="infra">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://danilocardoso.dev/blog/centralizando-governanca-com-opa/stop.jpeg">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>Centralizando governança de políticas com Open Policy Agent</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 5.4.2"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Início</a></li><!--
     --><!--
       --><li><a href="/about/">Sobre</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://linkedin.com/in/danilosoarescardoso">Fale Comigo</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Post Anterior" href="/validando-apis-rest-com-opa/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Post Seguinte" href="/o-que-usar-pra-criar-apis/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Acima" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Compartihar Post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Post Anterior</span>
      <span id="i-next" class="info" style="display:none;">Post Seguinte</span>
      <span id="i-top" class="info" style="display:none;">Acima</span>
      <span id="i-share" class="info" style="display:none;">Compartihar Post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://danilocardoso.dev/centralizando-governanca-com-opa/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://danilocardoso.dev/centralizando-governanca-com-opa/&text=Centralizando governança de políticas com Open Policy Agent"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://danilocardoso.dev/centralizando-governanca-com-opa/&title=Centralizando governança de políticas com Open Policy Agent"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://danilocardoso.dev/centralizando-governanca-com-opa/&is_video=false&description=Centralizando governança de políticas com Open Policy Agent"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Centralizando governança de políticas com Open Policy Agent&body=Check out this article: https://danilocardoso.dev/centralizando-governanca-com-opa/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://danilocardoso.dev/centralizando-governanca-com-opa/&title=Centralizando governança de políticas com Open Policy Agent"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://danilocardoso.dev/centralizando-governanca-com-opa/&title=Centralizando governança de políticas com Open Policy Agent"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://danilocardoso.dev/centralizando-governanca-com-opa/&title=Centralizando governança de políticas com Open Policy Agent"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://danilocardoso.dev/centralizando-governanca-com-opa/&title=Centralizando governança de políticas com Open Policy Agent"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://danilocardoso.dev/centralizando-governanca-com-opa/&name=Centralizando governança de políticas com Open Policy Agent&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://danilocardoso.dev/centralizando-governanca-com-opa/&t=Centralizando governança de políticas com Open Policy Agent"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Como-funciona-na-pratica"><span class="toc-number">1.</span> <span class="toc-text">Como funciona na prática</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Casos-de-Uso"><span class="toc-number">2.</span> <span class="toc-text">Casos de Uso</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Kubernetes"><span class="toc-number">2.1.</span> <span class="toc-text">Kubernetes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#APIs"><span class="toc-number">2.2.</span> <span class="toc-text">APIs</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Trade-offs"><span class="toc-number">3.</span> <span class="toc-text">Trade-offs</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Maturidade-tecnica"><span class="toc-number">3.1.</span> <span class="toc-text">Maturidade técnica</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Gestao-por-processos"><span class="toc-number">3.2.</span> <span class="toc-text">Gestão por processos</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Pode-nao-valer-a-pena-em-alguns-casos"><span class="toc-number">3.3.</span> <span class="toc-text">Pode não valer a pena em alguns casos</span></a></li></ol></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        Centralizando governança de políticas com Open Policy Agent
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">Danilo Soares Frois Cardoso</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2022-11-29T00:27:54.000Z" class="dt-published" itemprop="datePublished">28-11-2022</time>
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/2022/" rel="tag">2022</a>, <a class="p-category" href="/tags/infra/" rel="tag">infra</a>, <a class="p-category" href="/tags/seguranca/" rel="tag">segurança</a>, <a class="p-category" href="/tags/tecnologia/" rel="tag">tecnologia</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <p>No contexto de sistemas distribuídos, precisamos de regras para uma infinidade de casos:</p>
<ul>
<li>Controlar acessos a uma <strong>API</strong></li>
<li>Permitir a criação de <strong>recursos de infra</strong> em cloud</li>
<li>Executar <strong>deploys</strong> em ambientes produtivos e de homologação</li>
<li>Gerir <strong>acesso de rede</strong> à instâncias de determinada aplicação</li>
<li>etc</li>
</ul>
<p>Para a definição dessas regras costumamos usar o termo políticas. Cada ferramenta possui suas políticas e definições próprias. No caso de controlar acessos de uma API, podemos colocar políticas no API Gateway ou no <em>microsserviço</em> que implementa os <em>endpoints</em>. Para controlar acessos de rede podemos configurar políticas no <em>load balancer</em> ou <em>firewall</em> e por aí vai.</p>
<img src="/blog/centralizando-governanca-com-opa/stop.jpeg" class="">


<p>Um problema que surge com o enorme conjunto de tecnologias e conceitos que existem hoje é que fica difícil <strong>gerenciar de forma unificada</strong> as diferentes políticas implementadas por uma determinada área. Imagine o trabalho que um time de segurança possui ao ter que catalogar todas as diferentes validações de segurança feitas nos diferentes sistemas que uma empresa pode ter. Governar aspectos de sistemas distribuídos demanda soluções que permitam descentralizar a governança, mas sempre mantendo o controle acessível a quem é responsável.</p>
<p>Uma solução para esse tipo de problema é o <a target="_blank" rel="noopener" href="https://www.openpolicyagent.org/docs/latest/">Open Policy Agent</a>. O OPA, como também é conhecido, é uma ferramenta <em>open source</em> que visa unificar a definição de políticas em apenas uma <em>engine</em>. Através de uma linguagem de alto nível, é possível estabelecer políticas para diferentes tipos de tecnologia, unificando a forma como elas são escritas e diminuindo o processamento dos outros serviços. Com isso é possível não apenas segregar políticas das regras de negócio como também aumentar a segurança, criando uma camada adicional de validações.</p>
<h2 id="Como-funciona-na-pratica"><a href="#Como-funciona-na-pratica" class="headerlink" title="Como funciona na prática"></a>Como funciona na prática</h2><p>Para que o OPA funcione, existem algumas características do seu funcionamento que precisam ser pontuadas:</p>
<ol>
<li>Toda política de um sistema é armazenada como objetos JSON. Por exemplo, as características de um grupo de servidores podem ser definidas pela seguinte sintaxe:</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;servers&quot;: [</span><br><span class="line">        &#123;&quot;id&quot;: &quot;app&quot;, &quot;protocols&quot;: [&quot;https&quot;, &quot;ssh&quot;], &quot;ports&quot;: [&quot;p1&quot;, &quot;p2&quot;, &quot;p3&quot;]&#125;,</span><br><span class="line">        &#123;&quot;id&quot;: &quot;db&quot;, &quot;protocols&quot;: [&quot;mysql&quot;], &quot;ports&quot;: [&quot;p3&quot;]&#125;,</span><br><span class="line">        &#123;&quot;id&quot;: &quot;cache&quot;, &quot;protocols&quot;: [&quot;memcache&quot;], &quot;ports&quot;: [&quot;p3&quot;]&#125;,</span><br><span class="line">        &#123;&quot;id&quot;: &quot;ci&quot;, &quot;protocols&quot;: [&quot;http&quot;], &quot;ports&quot;: [&quot;p1&quot;, &quot;p2&quot;]&#125;,</span><br><span class="line">        &#123;&quot;id&quot;: &quot;busybox&quot;, &quot;protocols&quot;: [&quot;telnet&quot;], &quot;ports&quot;: [&quot;p1&quot;]&#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;networks&quot;: [</span><br><span class="line">        &#123;&quot;id&quot;: &quot;net1&quot;, &quot;public&quot;: false&#125;,</span><br><span class="line">        &#123;&quot;id&quot;: &quot;net2&quot;, &quot;public&quot;: false&#125;,</span><br><span class="line">        &#123;&quot;id&quot;: &quot;net3&quot;, &quot;public&quot;: true&#125;,</span><br><span class="line">        &#123;&quot;id&quot;: &quot;net4&quot;, &quot;public&quot;: true&#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;ports&quot;: [</span><br><span class="line">        &#123;&quot;id&quot;: &quot;p1&quot;, &quot;network&quot;: &quot;net1&quot;&#125;,</span><br><span class="line">        &#123;&quot;id&quot;: &quot;p2&quot;, &quot;network&quot;: &quot;net3&quot;&#125;,</span><br><span class="line">        &#123;&quot;id&quot;: &quot;p3&quot;, &quot;network&quot;: &quot;net2&quot;&#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Na sintaxe acima, extraída de um exemplo da <a target="_blank" rel="noopener" href="https://www.openpolicyagent.org/docs/latest/">documentação oficial</a>, é possível ver que existem informações sobre três servidores diferentes, incluindo as portas e redes usadas. É nesse arquivo que são definidas as políticas para seus ativos digitais.</p>
<img src="/blog/centralizando-governanca-com-opa/opa-arch.svg" class="">

<p>Figura 1 - Arquitetura de uma política no Open Policy Agent   </p>
<ol start="2">
<li>cada requisição &#x2F; acesso feito a uma ferramenta que possui políticas é validado por uma instância do OPA. Para isso, é necessário fazer uma <em>avaliação de política</em>, que nada mais é do que fazer uma <em>query</em> validando se aquela política foi violada ou não. Por exemplo: você pode executar a seguinte <em>query</em> para validar se uma conexão sem HTTPS é aceita no servidor:</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">input.servers[0].protocols[0] == &quot;http&quot;</span><br></pre></td></tr></table></figure>
<p>Se o retorno for falso, isso significa que uma conexão insegura não é aceita, ou seja, uma política foi violada. Dessa forma é possível barrar a comunicação antes de chegar no servidor desejado. Existe também a possibilidade de rodar uma <em>query</em> que valide todas as políticas existentes de uma única vez. Se alguma falhar, o acesso é barrado. </p>
<ol start="3">
<li><p>Quando uma política é criada em JSON, existe um <em>bind</em> que é feito para uma <a target="_blank" rel="noopener" href="https://www.styra.com/blog/how-to-write-your-first-rules-in-rego-the-policy-language-for-opa/">linguagem de alto nível chamada Rego</a>. Todas políticas são armazenadas com essa sintaxe. As <em>queries</em> para avaliação de políticas também devem ser escritas em Rego.</p>
</li>
<li><p>É possível executar avaliações de política usando APIs REST ou CLI, para facilitar automações e comunicações M2M. </p>
</li>
<li><p>A ferramenta <a target="_blank" rel="noopener" href="https://www.cncf.io/projects/open-policy-agent-opa/">faz parte do Cloud Native Computing Foundation</a> desde 2018.</p>
</li>
</ol>
<h2 id="Casos-de-Uso"><a href="#Casos-de-Uso" class="headerlink" title="Casos de Uso"></a>Casos de Uso</h2><p>Por ser uma ferramenta com alguns anos de bagagem, já existem casos de uso bem bacanas com ela. Seguem algumas aplicações que podem ser feitas no dia-a-dia:</p>
<h3 id="Kubernetes"><a href="#Kubernetes" class="headerlink" title="Kubernetes"></a>Kubernetes</h3><p>Para controlar cada chamada feita nas APIs do Kubernetes existem os <em>Admission Controllers</em>, ferramentas do próprio K8’s. Como as <em>requests</em> são interceptadas, é possível fazer diferentes validações e modificações que sejam necessárias. Uma das formas de fazer isso é com o <em>Open Policy Agent</em>.</p>
<p>Colocar o OPA como um <em>Admission Controller</em> faz com que seja possível checar <em>labels</em> nos recursos manipulados, validar conflitos com <em>Ingress</em> já existentes, sendo possível também modificar os objetos alvo de validação. </p>
<h3 id="APIs"><a href="#APIs" class="headerlink" title="APIs"></a>APIs</h3><p>É possível criar políticas que impeçam o acesso a determinados <em>endpoints</em> apenas para pessoas que possuam determinado token, escopo ou variável pré-determinada. Apesar desse não ser o caso de uso mais comum, já que o API Gateway tende a ser a peça responsável por esse tipo de validação, é interessante perceber como é possível centralizar a governança desse tipo de validação em uma ferramenta como o OPA. </p>
<p>Com OPA é possível fazer o <em>parse</em> de JWTs e validar o conteúdo deles, diminuindo a necessidade de validações no API Gateway e até no serviço que gerencia as regras de negócio. </p>
<h2 id="Trade-offs"><a href="#Trade-offs" class="headerlink" title="Trade-offs"></a>Trade-offs</h2><p>Apesar de ser uma ferramenta versátil e muito útil no contexto de aplicações em cloud, vale ressaltar que ela não é uma bala de prata. Existem alguns passos a considerar ao adotá-la:</p>
<h3 id="Maturidade-tecnica"><a href="#Maturidade-tecnica" class="headerlink" title="Maturidade técnica"></a>Maturidade técnica</h3><p>Uma ferramenta que centraliza a governança de políticas precisa de um contexto muito maduro e consciente das capacidades que existem no uso dessa tecnologia. Criar políticas para toda e qualquer validação vai gerar gargalos, débitos técnicos e aumentar a carga cognitiva dos times, que precisarão entender diferentes camadas de regras existentes no OPA. É necessário definir uma gestão por processos de forma clara, separando responsabilidades e papeis de forma objetiva.  </p>
<h3 id="Gestao-por-processos"><a href="#Gestao-por-processos" class="headerlink" title="Gestão por processos"></a>Gestão por processos</h3><p>Para uma ferramenta desse tipo fazer sentido, é necessário que as responsabilidades sejam bem definidas. Quando houver clareza sobre quem pode criar, modificar e excluir regras, além de um comitê que gerencia todas as políticas, aí todos poderão usar a ferramenta extraindo máximo valor. Vale a pena ter um <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=dNrF1tZf4Lk"><em>board</em> de arquitetura</a> pensando na melhor forma de aplicar a ferramenta. Além disso, é válido trazer uma <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=5f1Ioxef__o">visão de produtos e plataforma</a> para adoção da ferramenta. Um <a target="_blank" rel="noopener" href="https://www.thoughtworks.com/en-br/radar/techniques/platform-engineering-product-teams">time de plataforma</a> tocando essa ferramenta é uma ideia que parece fazer sentido, por exemplo. </p>
<h3 id="Pode-nao-valer-a-pena-em-alguns-casos"><a href="#Pode-nao-valer-a-pena-em-alguns-casos" class="headerlink" title="Pode não valer a pena em alguns casos"></a>Pode não valer a pena em alguns casos</h3><p>Por mais que governar todas as políticas a partir de um único ponto seja uma ideia interessante, pode ser que não faça sentido para seu contexto usa-la em todas as ferramentas. A melhor forma de avaliar se vale a pena ou não usar o OPA em cada contexto é rodar MVPs, tendo sempre em mente a questão dos processos e maturidade técnica. Havendo viabilidade técnica para uma determinada ferramenta, como o Terraform, aí deve-se pensar nos processos e próximos passos. </p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Início</a></li>
        
          <li><a href="/about/">Sobre</a></li>
        
          <li><a target="_blank" rel="noopener" href="https://linkedin.com/in/danilosoarescardoso">Fale Comigo</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Como-funciona-na-pratica"><span class="toc-number">1.</span> <span class="toc-text">Como funciona na prática</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Casos-de-Uso"><span class="toc-number">2.</span> <span class="toc-text">Casos de Uso</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Kubernetes"><span class="toc-number">2.1.</span> <span class="toc-text">Kubernetes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#APIs"><span class="toc-number">2.2.</span> <span class="toc-text">APIs</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Trade-offs"><span class="toc-number">3.</span> <span class="toc-text">Trade-offs</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Maturidade-tecnica"><span class="toc-number">3.1.</span> <span class="toc-text">Maturidade técnica</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Gestao-por-processos"><span class="toc-number">3.2.</span> <span class="toc-text">Gestão por processos</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Pode-nao-valer-a-pena-em-alguns-casos"><span class="toc-number">3.3.</span> <span class="toc-text">Pode não valer a pena em alguns casos</span></a></li></ol></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://danilocardoso.dev/centralizando-governanca-com-opa/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://danilocardoso.dev/centralizando-governanca-com-opa/&text=Centralizando governança de políticas com Open Policy Agent"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://danilocardoso.dev/centralizando-governanca-com-opa/&title=Centralizando governança de políticas com Open Policy Agent"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://danilocardoso.dev/centralizando-governanca-com-opa/&is_video=false&description=Centralizando governança de políticas com Open Policy Agent"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Centralizando governança de políticas com Open Policy Agent&body=Check out this article: https://danilocardoso.dev/centralizando-governanca-com-opa/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://danilocardoso.dev/centralizando-governanca-com-opa/&title=Centralizando governança de políticas com Open Policy Agent"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://danilocardoso.dev/centralizando-governanca-com-opa/&title=Centralizando governança de políticas com Open Policy Agent"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://danilocardoso.dev/centralizando-governanca-com-opa/&title=Centralizando governança de políticas com Open Policy Agent"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://danilocardoso.dev/centralizando-governanca-com-opa/&title=Centralizando governança de políticas com Open Policy Agent"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://danilocardoso.dev/centralizando-governanca-com-opa/&name=Centralizando governança de políticas com Open Policy Agent&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://danilocardoso.dev/centralizando-governanca-com-opa/&t=Centralizando governança de políticas com Open Policy Agent"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Compartilhar</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2025
    Danilo Soares Frois Cardoso
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Início</a></li><!--
     --><!--
       --><li><a href="/about/">Sobre</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://linkedin.com/in/danilosoarescardoso">Fale Comigo</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
