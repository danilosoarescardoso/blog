<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="Danilo Soares Frois Cardoso">


    <meta name="subtitle" content="Desenvolvimento Web e amenidades">


    <meta name="description" content="Aqui falo sobre tecnologia e muitas amenidades.">





<title>Evitando problemas de CDN com links do Facebook | Blog do Frois</title>



    <link rel="icon" href="/favicon.ico">



<style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;700&family=Roboto+Mono&display=swap');
</style>



    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    




    <!-- scripts list from _config.yml -->
    
    <script src="/js/menu.js"></script>
    










  <meta name="generator" content="Hexo 5.4.2"></head>
  <body>
    <div class="mask-border">
    </div>

    <div class="wrapper">

      <div class="header">
  <div class="flex-container">
    <div class="header-inner">
      <div class="site-brand-container">
        <a href="/">
          
            Blog do Frois.
          
        </a>
      </div>
      <div id="menu-btn" class="menu-btn" onclick="toggleMenu()">
        Menu
      </div>
      <nav class="site-nav">
        <ul class="menu-list">
          
            
              <li class="menu-item">
                <a href="/">Home</a>
              </li> 
                   
          
            
              <li class="menu-item">
                <a href="/archives/">Posts</a>
              </li> 
                   
          
          
        </ul>
      </nav>
    </div>
  </div>
</div>
<script src="/js/menu.js"></script>


      <div class="main">
        <div class="flex-container">
          <article id="post">

  
    <div class="post-head">
    <div class="post-info">
        <div class="tag-list">
            
                
                    <span class="post-tag">
                        <a href="/tags/redes-sociais/">
                            redes sociais
                        </a>
                    </span>    
                
                    <span class="post-tag">
                        <a href="/tags/facebook/">
                            facebook
                        </a>
                    </span>    
                
                    <span class="post-tag">
                        <a href="/tags/CDN/">
                            CDN
                        </a>
                    </span>    
                           
            
        </div>
        <div class="post-title">
            
            
                Evitando problemas de CDN com links do Facebook
            
            
        </div>
        <span class="post-date">
            nov 24, 2018
        </span>
    </div>
    <div class="post-img">
        
            <div class="h-line-primary"></div>
              
    </div>
</div>
    <div class="post-content">
    <p>Você já ouviu falar em CDNs? Elas são um recurso de infra-estrutura utilizado para otimizar o tráfego da internet. Para isso, ao invés do usuário bater diretamente no seu servidor, ele consulta um serviço na nuvem, que contém cópias do seu site. Assim o tráfego direto diminui e o tempo que o usuário leva para acessar seu site diminui, já que o conteúdo é servir otimizadamente.</p>
<p>As CDNs funcionam, assim, como um cache do seu site através da nuvem. Daí vem o seu nome, Rede de Distribuição de Conteúdo, ou <strong>Content Delivery Network</strong>. A imagem abaixo representa bem como elas funcionam:</p>
<img src="/blog/evitando-problemas-de-cdn-com-links-do-facebook/cdn.jpg" class="">


<p>Esse recurso é muito utilizado por empresas que possuem um grande fluxo de acessos. Onde trabalho, enfrentamos recentemente um problema com isso. Utilizamos CDN mas um certo link estava tendo acessos diretos, sem passar pelo serviço. Depurando o caso, observamos que isso ocorria devido a uma nova política de links do Facebook.</p>
<p>De uns tempos para cá a rede social passou a colocar um ID em cada link clicado a partir do seu site. Por exemplo: quando clica em um link de outro no site no seu Facebook, o destino é aquele link com um parâmetro fbclid no final. </p>
<p>O problema dessa atualização do Facebook é que ela força o usuário a bater no servidor e não na CDN. É como se a CDN não tivesse aquela página pronta em seu serviço, mostrando ao usuário a página que está no servidor.</p>
<p>Existem uma série de métodos para se livrar desse problema. Algumas passam por configurações na CDN e outros em adaptações do seu .htacess, caso use Apache. A solução para esse problema vai depender do seu time de infra-estrutura. O importante é evitar que esses acessos continuem vindo diretamente ao seu servidor, visto que isso pode sobrecarregar sua aplicação. </p>

</div> 

<script>
    window.onload = detectors();
</script>
    <div class="post-footer">
    <div class="h-line-primary"></div>
    <nav class="post-nav">
        <div class="prev-item">
           
                <div class="icon arrow-left"></div>
                <div class="post-link">
                    <a href="/primeiras-impressoes-morando-fora-de-SP/">Prev</a>
                </div>
            
        </div>
        <div class="next-item">
            
                <div class="icon arrow-right"></div>
                <div class="post-link">
                  <a href="/criando-usuarios-de-teste-no-facebook/">Next</a>  
                </div>  
            
        </div>
    </nav>
</div>

    
      <div class="post-comment">

     

     
    
    

</div>
     
  
</article>
        </div>
      </div>
      
      <div class="footer">
    <div class="flex-container">
        <div class="footer-text">
            
            
            
                Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> & <a target="_blank" rel="noopener" href="https://github.com/zoeingwingkei/frame/">Frame</a>
                
        </div>
    </div>
</div>

    </div>

    
    

  </body>
</html>
